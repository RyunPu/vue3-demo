{"version":3,"sources":["webpack:///./src/views/Posts.vue","webpack:///./src/views/Posts.vue?1517"],"names":["class","allPosts","post","i","key","title","id","body","loading","start","getPosts","components","Spinner","setup","perpage","usePromise","fetch","value","response","json","result","use","length","render"],"mappings":"2IACE,eAIU,WAJDA,MAAM,WAAS,CACtB,eAES,UAFDA,MAAM,UAAQ,CACpB,eAAc,UAAV,a,MAIDA,MAAM,wC,GAGLA,MAAM,oE,GAEFA,MAAM,6C,EAGV,eAAiC,MAA7BA,MAAM,sBAAoB,S,GAC3BA,MAAM,8B,GASZA,MAAM,+B,4GAxBX,EAKA,eAiBU,gBAhBR,eAeM,MAfN,EAeM,E,mBAdJ,eAaU,2BAbmB,EAAAC,UAAQ,SAApBC,EAAMC,G,wBAAvB,eAaU,WAb8BC,IAAKD,GAAC,CAC5C,eAWU,UAXV,EAWU,CARR,eAEK,KAFL,EAEK,eADAD,EAAKG,OAAK,GAEf,EACA,eAA+D,IAA/D,EAAsC,WAAQ,eAAGH,EAAKI,IAAE,GACxD,eAEI,wBADCJ,EAAKK,MAAI,U,UAOtB,eAOM,MAPN,EAOM,CANY,EAAAC,S,iBACd,eAAW,YAEM,EAAAC,MAAK,I,iBAAxB,eAES,U,MAFuB,QAAK,8BAAE,EAAAC,SAAA,sBAAU,sB,iHAWtC,GACbC,WAAY,CACVC,UAAA,MAEFC,MAJa,WAKX,IAAMJ,EAAQ,eAAI,GACZR,EAAW,eAAI,IACfa,EAAU,GAHV,EAKqC,OAAAC,EAAA,MAAU,wCAAC,oHAC7BC,MAAM,qDAAD,OAC2BP,EAAMQ,MACzD,EAFwB,mBAEZH,IAHoC,cAC9CI,EAD8C,yBAK7CA,EAASC,QALoC,4CAA9CX,EALF,EAKEA,QAASY,EALX,EAKWA,OAAaV,EALxB,EAKmBW,IAiBzB,OATA,eAAMD,GAAQ,SAAAA,GACRA,IACEA,EAAOE,SAAQb,EAAMQ,OAASH,GAClCb,EAASgB,MAAT,yBAAqBhB,EAASgB,OAA9B,eAAwCG,QAI5CV,IAEO,CACLT,WACAO,UACAC,QACAC,cCnEN,EAAOa,OAASA,EAED","file":"js/chunk-2d0ac1cc.a0acac24.js","sourcesContent":["<template>\n  <section class=\"todoapp\">\n    <header class=\"header\">\n      <h1>Posts</h1>\n    </header>\n  </section>\n  <section>\n    <div class=\"flex flex-col items-center text-left\">\n      <article v-for=\"(post, i) in allPosts\" :key=\"i\">\n        <article\n          class=\"post max-w-2xl border border-gray-200 rounded-sm shadow mb-4 p-3\"\n        >\n          <h2 class=\"text-gray-700 font-bold fot-serif text-xl\">\n            {{ post.title }}\n          </h2>\n          <hr class=\"text-gray-600 mb-2\" />\n          <p class=\"text-xs text-gray-500 mb-3\">by User {{ post.id }}</p>\n          <p>\n            {{ post.body }}\n          </p>\n        </article>\n      </article>\n    </div>\n  </section>\n\n  <div class=\"loading-box text-center p-4\">\n    <template v-if=\"loading\">\n      <Spinner />\n    </template>\n    <button v-else-if=\"start < 50\" @click=\"getPosts\">\n      Load more Posts\n    </button>\n  </div>\n</template>\n\n<script>\nimport { ref, watch } from 'vue'\nimport Spinner from '@/components/Spinner'\nimport usePromise from '@/composables/usePromise'\n\nexport default {\n  components: {\n    Spinner\n  },\n  setup() {\n    const start = ref(1)\n    const allPosts = ref([])\n    const perpage = 10\n\n    const { loading, result, use: getPosts } = usePromise(async () => {\n      const response = await fetch(\n        `https://jsonplaceholder.typicode.com/posts?_start=${start.value -\n          1}&_limit=${perpage}`\n      )\n      return response.json()\n    })\n\n    watch(result, result => {\n      if (result) {\n        if (result.length) start.value += perpage\n        allPosts.value = [...allPosts.value, ...result]\n      }\n    })\n\n    getPosts()\n\n    return {\n      allPosts,\n      loading,\n      start,\n      getPosts\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./Posts.vue?vue&type=template&id=7a5b5e48\"\nimport script from \"./Posts.vue?vue&type=script&lang=js\"\nexport * from \"./Posts.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}