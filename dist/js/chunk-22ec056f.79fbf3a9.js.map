{"version":3,"sources":["webpack:///./src/views/Todos.vue","webpack:///./src/components/Todos/Header.vue","webpack:///./src/components/Todos/Header.vue?51b7","webpack:///./src/components/Todos/List.vue","webpack:///./src/components/Todos/ListItem.vue","webpack:///./src/components/Todos/ListItem.vue?e36a","webpack:///./src/components/Todos/List.vue?94dd","webpack:///./src/components/Todos/Footer.vue","webpack:///./src/components/Todos/Footer.vue?63b0","webpack:///./src/views/Todos.vue?42da","webpack:///./src/utils/index.js"],"names":["class","todosLength","value","todo","onChange","onSubmit","placeholder","setup","commit","e","target","key","render","for","id","type","readonly","onCompleteAll","todos","onRemove","onUpdate","completed","editing","checked","onComplete","name","props","Object","required","emit","components","ListItem","getters","dispatch","itemsLeft","itemText","filterTitles","filterTitle","href","filter","onFilterSelect","completedCount","onClearCompleted","state","length","Header","List","Footer","getItem","setItem","storage","window","localStorage","JSON","stringify","defaultValue","originalValue","parse","removeItem","throttle","fn","timer","threshold","last","Date","context","this","args","arguments","now","clearTimeout","setTimeout","apply"],"mappings":"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","file":"js/chunk-22ec056f.79fbf3a9.js","sourcesContent":["<template>\n  <section class=\"todoapp\">\n    <Header />\n    <List />\n    <Footer v-if=\"todosLength\" />\n  </section>\n</template>\n\n<script>\nimport { onMounted, watchEffect, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { storage } from '@/utils'\nimport Header from '@/components/Todos/Header.vue'\nimport List from '@/components/Todos/List.vue'\nimport Footer from '@/components/Todos/Footer.vue'\n\nexport default {\n  components: { Header, List, Footer },\n  setup() {\n    const { state, commit } = useStore()\n    const todosLength = computed(() => state['todos'].todos.length)\n\n    onMounted(() => {\n      commit('todos/setState', ['todos', storage.getItem('todos', [])])\n      // commit('setState', ['todos/todos', storage.getItem('todos', [])])\n\n      watchEffect(() => {\n        storage.setItem('todos', state['todos'].todos)\n      })\n    })\n\n    return {\n      todosLength\n    }\n  }\n}\n</script>\n\n<style></style>\n","<template>\n  <header class=\"header\">\n    <h1>Todos</h1>\n    <input\n      :value=\"todo\"\n      @input=\"onChange\"\n      @keyup=\"onSubmit\"\n      class=\"new-todo\"\n      placeholder=\"What needs to be done?\"\n    />\n  </header>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  setup() {\n    const { commit } = useStore()\n    const todo = ref('')\n\n    const onChange = e => (todo.value = e.target.value)\n    const onSubmit = e => {\n      if (e.key !== 'Enter' || todo.value === '') return\n      commit('todos/onAdd', { todo: todo.value })\n      todo.value = ''\n    }\n\n    return {\n      todo,\n      onChange,\n      onSubmit\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./Header.vue?vue&type=template&id=1de97d0f\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <section class=\"main\">\n    <input\n      id=\"toggle-all\"\n      class=\"toggle-all\"\n      type=\"checkbox\"\n      readonly=\"\"\n      @click=\"onCompleteAll\"\n    /><label for=\"toggle-all\"></label>\n    <ul class=\"todo-list\">\n      <ListItem\n        v-for=\"todo in todos\"\n        :key=\"todo.id\"\n        :todo=\"todo\"\n        @remove=\"onRemove\"\n        @update=\"onUpdate\"\n      />\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport ListItem from '@/components/Todos/ListItem.vue'\n\nexport default {\n  components: { ListItem },\n  setup() {\n    const { getters, commit, dispatch } = useStore()\n    const todos = computed(() => getters['todos/filteredTodos'])\n\n    const onRemove = id => commit('todos/onRemove', { id })\n    const onUpdate = todo => commit('todos/onUpdate', todo)\n    const onCompleteAll = () => dispatch('todos/onCompleteAll')\n\n    return {\n      todos,\n      onRemove,\n      onUpdate,\n      onCompleteAll\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","<template>\n  <li :class=\"{ completed: todo.completed, editing }\">\n    <div class=\"view\">\n      <input\n        class=\"toggle\"\n        type=\"checkbox\"\n        :checked=\"todo.completed\"\n        @change=\"onComplete\"\n      /><label @dblclick=\"editing = true\">{{ todo.todo }}</label\n      ><button class=\"destroy\" @click=\"onRemove\"></button>\n    </div>\n    <input\n      v-if=\"editing\"\n      class=\"edit\"\n      :value=\"name\"\n      @change=\"onChange\"\n      @keyup=\"onSubmit\"\n    />\n  </li>\n</template>\n\n<script>\nimport { ref } from 'vue'\n\nexport default {\n  props: {\n    todo: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props, { emit }) {\n    const editing = ref(false)\n    const name = ref(props.todo.todo)\n\n    const onRemove = () => emit('remove', props.todo.id)\n    const onComplete = () =>\n      emit('update', { id: props.todo.id, completed: !props.todo.completed })\n    const onChange = e => (name.value = e.target.value)\n    const onSubmit = e => {\n      if (e.key !== 'Enter') return\n      emit('update', { id: props.todo.id, todo: name.value })\n      editing.value = false\n    }\n\n    return {\n      editing,\n      name,\n      onRemove,\n      onComplete,\n      onChange,\n      onSubmit\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./ListItem.vue?vue&type=template&id=8df414da\"\nimport script from \"./ListItem.vue?vue&type=script&lang=js\"\nexport * from \"./ListItem.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./List.vue?vue&type=template&id=59e98a06\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <footer class=\"footer box-content\">\n    <span class=\"todo-count\"\n      ><strong>{{ itemsLeft }}</strong\n      ><span>{{ itemText }} Left</span></span\n    >\n    <ul class=\"filters\">\n      <li v-for=\"filterTitle in filterTitles\" :key=\"filterTitle\">\n        <a\n          href=\"./#\"\n          :class=\"{ selected: filterTitle === filter }\"\n          @click=\"onFilterSelect(filterTitle)\"\n        >\n          {{ filterTitle }}\n        </a>\n      </li>\n    </ul>\n    <button\n      v-if=\"completedCount\"\n      class=\"clear-completed\"\n      @click=\"onClearCompleted\"\n    >\n      Clear completed\n    </button>\n  </footer>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  setup() {\n    const { state, getters, commit } = useStore()\n    const filterTitles = ['all', 'active', 'completed']\n    const filter = computed(() => state.todos.filter)\n    const completedCount = computed(\n      () => getters['todos/compeletedTodos'].length\n    )\n    const itemsLeft = computed(() => getters['todos/activeTodos'].length)\n    const itemText = computed(() => (itemsLeft.value > 1 ? ' items' : ' item'))\n\n    const onFilterSelect = filter =>\n      commit('todos/setState', ['filter', filter])\n    const onClearCompleted = () =>\n      commit('todos/setState', ['todos', getters['todos/activeTodos']])\n\n    return {\n      filterTitles,\n      filter,\n      onFilterSelect,\n      completedCount,\n      itemsLeft,\n      itemText,\n      onClearCompleted\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import { render } from \"./Footer.vue?vue&type=template&id=69ea541d\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Todos.vue?vue&type=template&id=dc3d8d48\"\nimport script from \"./Todos.vue?vue&type=script&lang=js\"\nexport * from \"./Todos.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export const storage = {\n  setItem(name, value) {\n    window.localStorage.setItem(name, JSON.stringify(value))\n  },\n\n  getItem(name, defaultValue = null) {\n    const originalValue = window.localStorage.getItem(name)\n    const value = originalValue === null ? defaultValue : originalValue\n\n    try {\n      return JSON.parse(value)\n    } catch (e) {\n      return value\n    }\n  },\n\n  removeItem(name) {\n    window.localStorage.removeItem(name)\n  }\n}\n\n/**\n * 函数去抖\n * @param {function} fn - 需要去抖的函数\n * @param {number} delay - 延迟时间，单位：ms\n * @return {function} 封装后的去抖函数\n */\nexport function debounce(fn, delay = 500) {\n  // 定时器\n  let timer\n\n  return function() {\n    // 保存函数调用时的上下文和参数，用于传递给 fn\n    const context = this\n    const args = arguments\n\n    // 每次这个返回的函数被调用，就清除定时器，以保证不执行 fn\n    clearTimeout(timer)\n\n    // 当返回的函数被最后一次调用后（也就是用户停止了某个连续的操作），\n    // 再过 delay 毫秒就执行 fn\n    timer = setTimeout(() => {\n      fn.apply(context, args)\n    }, delay)\n  }\n}\n\n/**\n * 函数节流\n * @param {function} fn - 需要节流的函数\n * @param {number} threshold - 执行间隔阈值，单位：ms\n * @return {function} 封装后的节流函数\n */\nexport function throttle(fn, threshold = 500) {\n  // 定时器\n  let timer\n  // 记录上次执行的时间\n  let last = +new Date()\n\n  return function() {\n    // 保存函数调用时的上下文和参数，用于传递给 fn\n    const context = this\n    const args = arguments\n    // 记录函数的调用时间\n    const now = +new Date()\n    clearTimeout(timer)\n\n    // 如果距离上次执行 fn 函数的时间小于 threshold，那么就放弃执行 fn，并重新计时\n    if (now - last < threshold) {\n      // 保证在当前时间区间结束后，再执行一次 fn\n      timer = setTimeout(() => {\n        last = now\n        fn.apply(context, args)\n      }, threshold)\n    } else {\n      // 在大于指定时间阈值后执行一次 fn\n      last = now\n      fn.apply(context, args)\n    }\n  }\n}\n"],"sourceRoot":""}